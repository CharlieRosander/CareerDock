{% extends "base.html" %}

{% block title %}CareerDock - Login{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/auth.css">
{% endblock %}

{% block content %}
<div class="login-container">
    <h1>Welcome to CareerDock</h1>
    <p>CareerDock helps you manage your job search process efficiently with AI assistance.</p>

    <div id="login-status">
        {% if not user_id %}
        <!-- Using a regular link for Google OAuth redirect -->
        <a href="/api/v1/auth/google" class="btn btn-primary">
            Login with Google
        </a>

        <!-- Status message area -->
        <div id="login-message" class="mt-3">
            {% if error %}
            <div class="alert alert-danger">
                Login failed: {{ error }}
            </div>
            {% endif %}
        </div>
        {% endif %}

        {% if token and user_id %}
        <div id="userInfo" class="user-info">
            <div class="alert alert-success">
                <h2>You are logged in!</h2>
                <p>Successfully authenticated</p>
            </div>

            <a href="/dashboard" class="btn btn-primary">
                Go to Dashboard
            </a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}